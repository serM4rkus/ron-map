<div class="drawing-tools">
  <div class="drawing-header">
    <h4>{{ translate('drawingTools') }}</h4>
    <button 
      class="drawing-toggle-btn" 
      [class.active]="isDrawingMode"
      (click)="toggleDrawingMode()"
      title="Toggle Drawing Mode"
    >
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
        <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
        <path d="M2 2l7.586 7.586"></path>
        <circle cx="11" cy="11" r="2"></circle>
      </svg>
    </button>
  </div>
  @if (isDrawingMode) {
  <div class="drawing-content">
    <div class="color-picker">
      <label>Select Color:</label>
      <div class="color-options">
        @for (color of colors; track color) {
        <button 
          class="color-btn" 
          [class.selected]="selectedColor === color && !isEraserMode"
          [style.background-color]="color"
          (click)="selectColor(color)"
          [title]="color"
        ></button>
        }
      </div>
    </div>
    <div class="tool-selector">
      <button 
        class="tool-btn" 
        [class.active]="!isEraserMode"
        (click)="selectDrawMode()"
        title="Draw Mode"
      >
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
          <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
          <path d="M2 2l7.586 7.586"></path>
          <circle cx="11" cy="11" r="2"></circle>
        </svg>
        <span>{{ translate('draw') }}</span>
      </button>
      <button 
        class="tool-btn eraser-btn" 
        [class.active]="isEraserMode"
        (click)="selectEraserMode()"
        title="Eraser Mode"
      >
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M20 20H7L3 16L12 7L17 12M12 7L15 4L20 9L17 12M12 7L17 12"></path>
          <path d="M11.5 13.5L6.5 18.5"></path>
        </svg>
        <span>{{ translate('eraser') }}</span>
      </button>
    </div>
    <button 
      class="clear-drawings-btn" 
      (click)="onClearDrawings()" 
      [disabled]="!hasDrawings"
    >
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="3 6 5 6 21 6"></polyline>
        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
      </svg>
      {{ translate('clearAll') }}
    </button>
  </div>
  }
</div>
